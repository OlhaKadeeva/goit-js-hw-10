{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst input = document.querySelector('#datetime-picker');\nconst startBtn = document.querySelector('[data-start]');\nconst dataElements = {\n  daysEl: document.querySelector('[data-days]'),\n  hoursEl: document.querySelector('[data-hours]'),\n  minutesEl: document.querySelector('[data-minutes]'),\n  secondsEl: document.querySelector('[data-seconds]'),\n};\n\nlet userSelectedDate; //–¥–∞—Ça, –æ–±—Ä–∞–Ωa –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–µ–º\nlet currentInterval;\n\nconst flatpickrOptins = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  position: 'below left', //–≤–µ—Ä—Ç–∏–∫–∞–ª—å —ñ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å\n  positionElement: input, //–Ω–∞ –Ω–∞—à–æ–º—É –∏–º–ø—É—Ç—ñ –¥–ª—è –¥–∞—Ç–∏\n\n  //–ú–µ—Ç–æ–¥ onClose() –∑ –æ–±'—î–∫—Ç–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è —â–æ—Ä–∞–∑—É –ø—ñ–¥ —á–∞—Å –∑–∞–∫—Ä–∏—Ç—Ç—è –µ–ª–µ–º–µ–Ω—Ç–∞ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É, —è–∫–∏–π —Å—Ç–≤–æ—Ä—é—î flatpickr. –°–∞–º–µ –≤ –Ω—å–æ–º—É –≤–∞—Ä—Ç–æ –æ–±—Ä–æ–±–ª—è—Ç–∏ –¥–∞—Ç—É, –æ–±—Ä–∞–Ω—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–µ–º. –ü–∞—Ä–∞–º–µ—Ç—Ä selectedDates ‚Äî —Ü–µ –º–∞—Å–∏–≤ –æ–±—Ä–∞–Ω–∏—Ö –¥–∞—Ç, —Ç–æ–º—É –º–∏ –±–µ—Ä–µ–º–æ –ø–µ—Ä—à–∏–π –µ–ª–µ–º–µ–Ω—Ç selectedDates[0].\n  onClose(selectedDates) {\n    userSelectedDate = selectedDates[0];\n    // console.log(userSelectedDate);\n    correctDate(userSelectedDate); //–ø—ñ—Å–ª—è –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó\n  },\n};\n\nconst timeUnits = {\n  days: 1000 * 60 * 60 * 24,\n  hours: 1000 * 60 * 60,\n  minutes: 1000 * 60,\n  seconds: 1000,\n};\n\n//–í—ñ—à–∞—î–º–æ –ø—Ä–æ—Å–ª—É—Ö–æ–≤—É–≤–∞—á –Ω–∞ –±–∞—Ç—Ç–æ–Ω start\nstartBtn.addEventListener('click', startTimer);\n\nflatpickr(input, flatpickrOptins);\n\n//–°–ø–æ–≤—ñ—â–µ–Ω–Ω—è –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ —á–µ—Ä–µ–∑ –±—ñ–±–ª—ñ–æ—Ç–µ–∫—É iziToast\nfunction showMessage() {\n  iziToast.show({\n    position: 'topRight',\n    title: 'üòû Error',\n    titleColor: 'white',\n    messageColor: 'white',\n    backgroundColor: 'red',\n    message: 'Please choose a date in the future',\n    iconColor: 'white',\n  });\n}\n\nfunction correctDate(date) {\n  if (new Date(date) > new Date()) {\n    startBtn.disabled = false;\n    startBtn.classList.toggle('is-active');\n    //–ü—Ä–∏ –æ–±—Ä–∞–Ω–Ω—ñ –¥–∞—Ç–∏ –∑ –º–∞–π–±—É—Ç–Ω—å–æ–≥–æ –∫–Ω–æ–ø–∫–∞ Start —Å—Ç–∞—î –∞–∫—Ç–∏–≤–Ω–æ—é.\n    return true;\n  } else {\n    startBtn.disabled = true; //–ü—Ä–∏ –æ–±—Ä–∞–Ω–Ω—ñ –¥–∞—Ç–∏ –∑ –º–∏–Ω—É–ª–æ–≥–æ, –∫–Ω–æ–ø–∫–∞ Start —Å—Ç–∞—î –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ—é —ñ –∑‚Äô—è–≤–ª—è—î—Ç—å—Å—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è\n    showMessage();\n    return false;\n  }\n}\n\n// –¢–∞–π–º–µ—Ä —Ü–µ –æ–±'—î–∫—Ç, —É —è–∫–æ–≥–æ —î –¥–≤—ñ —Ñ—É–Ω–∫—Ü—ñ—ó start —ñ stop.\n//–ü—Ä–∏ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—ñ –Ω–∞ –∫–Ω–æ–ø–∫—É Start –≤–æ–Ω–∞ —Å—Ç–∞—î –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ—é, –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫—É –≤–∏–≤–æ–¥–∏—Ç—å—Å—è —á–∞—Å, —â–æ –ª–∏—à–∏–≤—Å—è –¥–æ –æ–±—Ä–∞–Ω–æ—ó –¥–∞—Ç–∏ —É —Ñ–æ—Ä–º–∞—Ç—ñ xx:xx:xx:xx, —ñ –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è –∑–≤–æ—Ä–æ—Ç–Ω–∏–π –≤—ñ–¥–ª—ñ–∫ —á–∞—Å—É –¥–æ –æ–±—Ä–∞–Ω–æ—ó –¥–∞—Ç–∏.\nfunction startTimer() {\n  if (!correctDate(userSelectedDate)) return;\n\n  clearInterval(currentInterval);\n\n  currentInterval = setInterval(() => checkTimer(timeUnits), 1000);\n  input.disabled = true;\n  startBtn.disabled = true;\n}\n\n//–¢–∞–π–º–µ—Ä –∑—É–ø–∏–Ω—è—î—Ç—å—Å—è, –∫–æ–ª–∏ –¥–æ—Ö–æ–¥–∏—Ç—å –¥–æ –∫—ñ–Ω—Ü–µ–≤–æ—ó –¥–∞—Ç–∏, —Ç–æ–±—Ç–æ –∑–∞–ª–∏—à–æ–∫ —á–∞—Å—É –¥–æ—Ä—ñ–≤–Ω—é—î –Ω—É–ª—é —ñ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤–∏–≥–ª—è–¥–∞—î —Ç–∞–∫ 00:00:00:00\nfunction checkTimer(timeUnits) {\n  let totalTime = userSelectedDate - new Date();\n  if (totalTime <= 0) {\n    return stopTimer();\n  }\n\n  //–ß–∞—Å –≤ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ñ –≤—ñ–¥—Ñ–æ—Ä–º–∞—Ç–æ–≤–∞–Ω–∏–π —ñ, —è–∫—â–æ –≤–æ–Ω–æ –º—ñ—Å—Ç–∏—Ç—å –º–µ–Ω—à–µ –¥–≤–æ—Ö —Å–∏–º–≤–æ–ª—ñ–≤, –Ω–∞ –ø–æ—á–∞—Ç–∫—É —á–∏—Å–ª–∞ –¥–æ–¥–∞–Ω–∏–π 0.\n  const showTime = unit =>\n    Math.floor(totalTime / timeUnits[unit])\n      .toString()\n      .padStart(2, '0');\n\n  //–≤–∏–≤–æ–¥–∏–º–æ –∫–æ–Ω—Ç–µ–Ω—Ç\n  for (let key in timeUnits) {\n    dataElements[key + 'El'].textContent = showTime(key);\n    totalTime %= timeUnits[key];\n  }\n}\nfunction stopTimer() {\n  clearInterval(currentInterval);\n  input.disabled = false;\n}\n"],"names":["input","startBtn","dataElements","userSelectedDate","currentInterval","flatpickrOptins","selectedDates","correctDate","timeUnits","startTimer","flatpickr","showMessage","iziToast","date","checkTimer","totalTime","stopTimer","showTime","unit","key"],"mappings":"+IAMA,MAAMA,EAAQ,SAAS,cAAc,kBAAkB,EACjDC,EAAW,SAAS,cAAc,cAAc,EAChDC,EAAe,CACnB,OAAQ,SAAS,cAAc,aAAa,EAC5C,QAAS,SAAS,cAAc,cAAc,EAC9C,UAAW,SAAS,cAAc,gBAAgB,EAClD,UAAW,SAAS,cAAc,gBAAgB,CACpD,EAEA,IAAIC,EACAC,EAEJ,MAAMC,EAAkB,CACtB,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,SAAU,aACV,gBAAiBL,EAGjB,QAAQM,EAAe,CACrBH,EAAmBG,EAAc,CAAC,EAElCC,EAAYJ,CAAgB,CAC7B,CACH,EAEMK,EAAY,CAChB,KAAM,IAAO,GAAK,GAAK,GACvB,MAAO,IAAO,GAAK,GACnB,QAAS,IAAO,GAChB,QAAS,GACX,EAGAP,EAAS,iBAAiB,QAASQ,CAAU,EAE7CC,EAAUV,EAAOK,CAAe,EAGhC,SAASM,GAAc,CACrBC,EAAS,KAAK,CACZ,SAAU,WACV,MAAO,WACP,WAAY,QACZ,aAAc,QACd,gBAAiB,MACjB,QAAS,qCACT,UAAW,OACf,CAAG,CACH,CAEA,SAASL,EAAYM,EAAM,CACzB,OAAI,IAAI,KAAKA,CAAI,EAAI,IAAI,MACvBZ,EAAS,SAAW,GACpBA,EAAS,UAAU,OAAO,WAAW,EAE9B,KAEPA,EAAS,SAAW,GACpBU,IACO,GAEX,CAIA,SAASF,GAAa,CACfF,EAAYJ,CAAgB,IAEjC,cAAcC,CAAe,EAE7BA,EAAkB,YAAY,IAAMU,EAAWN,CAAS,EAAG,GAAI,EAC/DR,EAAM,SAAW,GACjBC,EAAS,SAAW,GACtB,CAGA,SAASa,EAAWN,EAAW,CAC7B,IAAIO,EAAYZ,EAAmB,IAAI,KACvC,GAAIY,GAAa,EACf,OAAOC,EAAS,EAIlB,MAAMC,EAAWC,GACf,KAAK,MAAMH,EAAYP,EAAUU,CAAI,CAAC,EACnC,SAAU,EACV,SAAS,EAAG,GAAG,EAGpB,QAASC,KAAOX,EACdN,EAAaiB,EAAM,IAAI,EAAE,YAAcF,EAASE,CAAG,EACnDJ,GAAaP,EAAUW,CAAG,CAE9B,CACA,SAASH,GAAY,CACnB,cAAcZ,CAAe,EAC7BJ,EAAM,SAAW,EACnB"}